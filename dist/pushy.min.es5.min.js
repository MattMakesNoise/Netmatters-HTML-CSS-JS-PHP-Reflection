"use strict";!function(e){function s(){o.hasClass(l)?r.toggleClass(u):r.toggleClass(m),d&&o.one("transitionend",function(){d.trigger("focus")})}function a(){o.hasClass(l)?(r.addClass(u),o.animate({left:"0px"},f),x.animate({left:h},f),i.animate({left:h},f)):(r.addClass(m),o.animate({right:"0px"},f),x.animate({right:h},f),i.animate({right:h},f)),d&&d.trigger("focus")}function t(){o.hasClass(l)?(r.removeClass(u),o.animate({left:"-"+h},f),x.animate({left:"0px"},f),i.animate({left:"0px"},f)):(r.removeClass(m),o.animate({right:"-"+h},f),x.animate({right:"0px"},f),i.animate({right:"0px"},f))}function n(){e(p).addClass(g),e(p).on("click",function(s){var a=e(this);a.hasClass(g)?(a.siblings(p).addClass(g).removeClass(C),a.removeClass(g).addClass(C)):a.addClass(g).removeClass(C),s.stopPropagation()})}var o=e(".pushy"),r=e("body"),i=e(".push"),l="pushy-left",u="pushy-open-left",m="pushy-open-right",c=e(".site-overlay"),d=e(o.data("focus")),f=200,h=o.width()+"px",p=".pushy-submenu",C="pushy-submenu-open",g="pushy-submenu-closed";b=void 0!==o.data("menu-btn-selector")?o.data("menu-btn-selector"):".menu-btn";var v=e(b+", .pushy-link"),y=e(b),b="#container";void 0!==o.data("container-selector")&&(b=o.data("container-selector"));var x=e(b);e(document).on("keyup",function(s){27==s.keyCode&&(r.hasClass(u)||r.hasClass(m))&&(w?o.hasClass(l)?r.removeClass(u):r.removeClass(m):(t(),k=!1),y&&y.trigger("focus"))});var k,w=function(){var s,a=document.createElement("p"),e=!1,t={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};if(null===document.body)return!1;for(s in document.body.insertBefore(a,null),t)void 0!==a.style[s]&&(a.style[s]="translate3d(1px,1px,1px)",e=window.getComputedStyle(a).getPropertyValue(t[s]));return document.body.removeChild(a),void 0!==e&&0<e.length&&"none"!==e}();w?(n(),v.on("click",function(){s()}),c.on("click",function(){s()})):(r.addClass("no-csstransforms3d"),o.hasClass(l)?o.css({left:"-"+h}):o.css({right:"-"+h}),x.css({"overflow-x":"hidden"}),k=!1,n(),v.on("click",function(){k=k?(t(),!1):(a(),!0)}),c.on("click",function(){k=k?(t(),!1):(a(),!0)}))}(jQuery);